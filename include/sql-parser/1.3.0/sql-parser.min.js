!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e=e||self).SQLParser={})}(this,function(e){"use strict";function t(e,t){return e(t={exports:{}},t.exports),t.exports}var n=["AVG","COUNT","MIN","MAX","SUM"],i=["ASC","DESC"],r=["=","!=",">=",">","<=","<>","<","LIKE","NOT LIKE","ILIKE","NOT ILIKE","IS NOT","IS","REGEXP","NOT REGEXP"],s=["IN","NOT IN","ANY","ALL","SOME"],o=["EXISTS"],a=["AND","OR"],u=["BETWEEN","NOT BETWEEN"],h=["TRUE","FALSE","NULL"],c=["+","-","||","&&"],l=["/","*"],f=/^\*/,p=/^,/,k=/^[ \n\r]+/,E=/^`?([a-z_][a-z0-9_]{0,}(\:(number|float|string|date|boolean))?)`?/i,T=/^\$([a-z0-9_]+(\:(number|float|string|date|boolean))?)/,d=/^[+-]?[0-9]+(\.[0-9]+)?/,S=/^'((?:[^\\']+?|\\.|'')*)'(?!')/,g=/^"([^\\"]*(?:\\.[^\\"]*)*)"/,O=function(){function e(e,t){void 0===t&&(t={}),this.sql=e,this.preserveWhitespace=t.preserveWhitespace||!1,this.tokens=[],this.currentLine=1,this.currentOffset=0;for(var n=0;this.chunk=e.slice(n);){var i=this.keywordToken()||this.starToken()||this.booleanToken()||this.functionToken()||this.windowExtension()||this.sortOrderToken()||this.seperatorToken()||this.operatorToken()||this.numberToken()||this.mathToken()||this.dotToken()||this.conditionalToken()||this.betweenToken()||this.subSelectOpToken()||this.subSelectUnaryOpToken()||this.stringToken()||this.parameterToken()||this.parensToken()||this.whitespaceToken()||this.literalToken();if(i<1)throw new Error("NOTHING CONSUMED: Stopped at - '"+this.chunk.slice(0,30)+"'");n+=i,this.currentOffset+=i}this.token("EOF",""),this.postProcess()}var t=e.prototype;return t.postProcess=function(){for(var e=[],t=0,n=0,i=this.tokens.length;n<i;t=++n){var r=this.tokens[t];if("STAR"===r[0]){var s=this.tokens[t+1];"SEPARATOR"!==s[0]&&"FROM"!==s[0]?e.push(r[0]="MATH_MULTI"):e.push(void 0)}else e.push(void 0)}return e},t.token=function(e,t){return this.tokens.push([e,t,this.currentLine,this.currentOffset])},t.tokenizeFromStringRegex=function(e,t,n,i,r){void 0===n&&(n=0),void 0===i&&(i=n),void 0===r&&(r=!0);var s=t.exec(this.chunk);if(!s)return 0;var o=s[n].replace(/''/g,"'");return r&&this.token(e,o),s[i].length},t.tokenizeFromRegex=function(e,t,n,i,r){void 0===n&&(n=0),void 0===i&&(i=n),void 0===r&&(r=!0);var s=t.exec(this.chunk);if(!s)return 0;var o=s[n];return r&&this.token(e,o),s[i].length},t.tokenizeFromWord=function(e,t){void 0===t&&(t=e),t=this.regexEscape(t);var n=(/^\w+$/.test(t)?new RegExp("^("+t+")\\b","ig"):new RegExp("^("+t+")","ig")).exec(this.chunk);return n?(this.token(e,n[1]),n[1].length):0},t.tokenizeFromList=function(e,t){for(var n=0,i=0,r=t.length;i<r;i++){var s=t[i];if((n=this.tokenizeFromWord(e,s))>0)break}return n},t.keywordToken=function(){return this.tokenizeFromWord("SELECT")||this.tokenizeFromWord("INSERT")||this.tokenizeFromWord("INTO")||this.tokenizeFromWord("DEFAULT")||this.tokenizeFromWord("VALUES")||this.tokenizeFromWord("DISTINCT")||this.tokenizeFromWord("FROM")||this.tokenizeFromWord("WHERE")||this.tokenizeFromWord("GROUP")||this.tokenizeFromWord("ORDER")||this.tokenizeFromWord("BY")||this.tokenizeFromWord("HAVING")||this.tokenizeFromWord("LIMIT")||this.tokenizeFromWord("JOIN")||this.tokenizeFromWord("LEFT")||this.tokenizeFromWord("RIGHT")||this.tokenizeFromWord("INNER")||this.tokenizeFromWord("OUTER")||this.tokenizeFromWord("ON")||this.tokenizeFromWord("AS")||this.tokenizeFromWord("CASE")||this.tokenizeFromWord("WHEN")||this.tokenizeFromWord("THEN")||this.tokenizeFromWord("ELSE")||this.tokenizeFromWord("END")||this.tokenizeFromWord("UNION")||this.tokenizeFromWord("ALL")||this.tokenizeFromWord("LIMIT")||this.tokenizeFromWord("OFFSET")||this.tokenizeFromWord("FETCH")||this.tokenizeFromWord("ROW")||this.tokenizeFromWord("ROWS")||this.tokenizeFromWord("ONLY")||this.tokenizeFromWord("NEXT")||this.tokenizeFromWord("FIRST")},t.dotToken=function(){return this.tokenizeFromWord("DOT",".")},t.operatorToken=function(){return this.tokenizeFromList("OPERATOR",r)},t.mathToken=function(){return this.tokenizeFromList("MATH",c)||this.tokenizeFromList("MATH_MULTI",l)},t.conditionalToken=function(){return this.tokenizeFromList("CONDITIONAL",a)},t.betweenToken=function(){return this.tokenizeFromList("BETWEEN",u)},t.subSelectOpToken=function(){return this.tokenizeFromList("SUB_SELECT_OP",s)},t.subSelectUnaryOpToken=function(){return this.tokenizeFromList("SUB_SELECT_UNARY_OP",o)},t.functionToken=function(){return this.tokenizeFromList("FUNCTION",n)},t.sortOrderToken=function(){return this.tokenizeFromList("DIRECTION",i)},t.booleanToken=function(){return this.tokenizeFromList("BOOLEAN",h)},t.starToken=function(){return this.tokenizeFromRegex("STAR",f)},t.seperatorToken=function(){return this.tokenizeFromRegex("SEPARATOR",p)},t.literalToken=function(){return this.tokenizeFromRegex("LITERAL",E,1,0)},t.numberToken=function(){return this.tokenizeFromRegex("NUMBER",d)},t.parameterToken=function(){return this.tokenizeFromRegex("PARAMETER",T,1,0)},t.stringToken=function(){return this.tokenizeFromStringRegex("STRING",S,1,0)||this.tokenizeFromRegex("DBLSTRING",g,1,0)},t.parensToken=function(){return this.tokenizeFromRegex("LEFT_PAREN",/^\(/)||this.tokenizeFromRegex("RIGHT_PAREN",/^\)/)},t.windowExtension=function(){var e=/^\.(win):(length|time)/i.exec(this.chunk);return e?(this.token("WINDOW",e[1]),this.token("WINDOW_FUNCTION",e[2]),e[0].length):0},t.whitespaceToken=function(){var e=k.exec(this.chunk);if(!e)return 0;var t=e[0];this.preserveWhitespace&&this.token("WHITESPACE",t);var n=t.match(/\n/g,"");return this.currentLine+=(null!=n?n.length:void 0)||0,t.length},t.regexEscape=function(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")},e}(),m={tokenize:function(e,t){return new O(e,t).tokens}},N={parser:function(){var e=function(e,t,n,i){for(n=n||{},i=e.length;i--;n[e[i]]=t);return n},t=[1,8],n=[5,26],i=[1,14],r=[1,13],s=[5,26,31,42],o=[1,17],a=[5,26,31,42,45,62],u=[1,27],h=[1,29],c=[1,40],l=[1,42],f=[1,46],p=[1,47],k=[1,43],E=[1,44],T=[1,41],d=[1,45],S=[1,25],g=[5,26,31],O=[5,26,31,42,45],m=[1,59],N=[18,43],v=[1,62],R=[1,63],F=[1,64],b=[1,65],L=[1,66],y=[5,18,23,26,31,34,37,38,41,42,43,45,62,64,65,66,67,68,70,78,81,82,83],w=[5,18,23,26,31,34,37,38,41,42,43,44,45,51,62,64,65,66,67,68,70,71,78,81,82,83,89,90,91,92,93,94,96],I=[1,74],A=[1,77],W=[2,93],$=[1,91],C=[1,92],z=[5,18,23,26,31,34,37,38,41,42,43,45,62,64,65,66,67,68,70,78,81,82,83,89,90,91,92,93,94,96],U=[78,81,83],_=[1,116],x=[5,26,31,42,43,44],P=[1,124],H=[5,26,31,42,43,45,64],V=[5,26,31,41,42,45,62],D=[1,127],B=[1,128],M=[1,129],G=[5,26,31,34,35,37,38,41,42,45,62],j=[5,18,23,26,31,34,37,38,41,42,43,45,62,64,70,78,81,82,83],J=[5,26,31,34,37,38,41,42,45,62],Y=[5,26,31,42,56,58],X={trace:function(){},yy:{},symbols_:{error:2,Root:3,Query:4,EOF:5,SelectQuery:6,Unions:7,SelectWithLimitQuery:8,BasicSelectQuery:9,Select:10,OrderClause:11,GroupClause:12,LimitClause:13,SelectClause:14,WhereClause:15,SELECT:16,Fields:17,FROM:18,Table:19,DISTINCT:20,Joins:21,Literal:22,AS:23,LEFT_PAREN:24,List:25,RIGHT_PAREN:26,WINDOW:27,WINDOW_FUNCTION:28,Number:29,Union:30,UNION:31,ALL:32,Join:33,JOIN:34,ON:35,Expression:36,LEFT:37,RIGHT:38,INNER:39,OUTER:40,WHERE:41,LIMIT:42,SEPARATOR:43,OFFSET:44,ORDER:45,BY:46,OrderArgs:47,OffsetClause:48,OrderArg:49,Value:50,DIRECTION:51,OffsetRows:52,FetchClause:53,ROW:54,ROWS:55,FETCH:56,FIRST:57,ONLY:58,NEXT:59,GroupBasicClause:60,HavingClause:61,GROUP:62,ArgumentList:63,HAVING:64,MATH:65,MATH_MULTI:66,OPERATOR:67,BETWEEN:68,BetweenExpression:69,CONDITIONAL:70,SUB_SELECT_OP:71,SubSelectExpression:72,SUB_SELECT_UNARY_OP:73,WhitepaceList:74,CaseStatement:75,CASE:76,CaseWhens:77,END:78,CaseElse:79,CaseWhen:80,WHEN:81,THEN:82,ELSE:83,String:84,Function:85,UserFunction:86,Boolean:87,Parameter:88,NUMBER:89,BOOLEAN:90,PARAMETER:91,STRING:92,DBLSTRING:93,LITERAL:94,DOT:95,FUNCTION:96,AggregateArgumentList:97,Case:98,Field:99,STAR:100,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",16:"SELECT",18:"FROM",20:"DISTINCT",23:"AS",24:"LEFT_PAREN",26:"RIGHT_PAREN",27:"WINDOW",28:"WINDOW_FUNCTION",31:"UNION",32:"ALL",34:"JOIN",35:"ON",37:"LEFT",38:"RIGHT",39:"INNER",40:"OUTER",41:"WHERE",42:"LIMIT",43:"SEPARATOR",44:"OFFSET",45:"ORDER",46:"BY",51:"DIRECTION",54:"ROW",55:"ROWS",56:"FETCH",57:"FIRST",58:"ONLY",59:"NEXT",62:"GROUP",64:"HAVING",65:"MATH",66:"MATH_MULTI",67:"OPERATOR",68:"BETWEEN",70:"CONDITIONAL",71:"SUB_SELECT_OP",73:"SUB_SELECT_UNARY_OP",76:"CASE",78:"END",81:"WHEN",82:"THEN",83:"ELSE",89:"NUMBER",90:"BOOLEAN",91:"PARAMETER",92:"STRING",93:"DBLSTRING",94:"LITERAL",95:"DOT",96:"FUNCTION",98:"Case",100:"STAR"},productions_:[0,[3,2],[4,1],[4,2],[6,1],[6,1],[9,1],[9,2],[9,2],[9,3],[8,2],[10,1],[10,2],[14,4],[14,5],[14,5],[14,6],[19,1],[19,2],[19,3],[19,3],[19,3],[19,4],[19,6],[7,1],[7,2],[30,2],[30,3],[21,1],[21,2],[33,4],[33,5],[33,5],[33,6],[33,6],[33,6],[33,6],[15,2],[13,2],[13,4],[13,4],[11,3],[11,4],[47,1],[47,3],[49,1],[49,2],[48,2],[48,3],[52,2],[52,2],[53,4],[53,4],[12,1],[12,2],[60,3],[61,2],[36,3],[36,3],[36,3],[36,3],[36,3],[36,3],[36,5],[36,3],[36,2],[36,1],[36,1],[36,1],[36,1],[69,3],[75,3],[75,4],[80,4],[77,2],[77,1],[79,2],[72,3],[50,1],[50,1],[50,1],[50,1],[50,1],[50,1],[50,1],[74,2],[74,2],[25,1],[29,1],[87,1],[88,1],[84,1],[84,1],[22,1],[22,3],[85,4],[86,3],[86,4],[86,4],[97,1],[97,2],[63,1],[63,3],[17,1],[17,3],[99,1],[99,1],[99,3]],performAction:function(e,t,n,i,r,s,o){var a=s.length-1;switch(r){case 1:return this.$=s[a-1];case 2:case 4:case 5:case 6:case 11:case 53:case 66:case 68:case 69:case 78:case 79:case 80:case 81:case 82:case 83:case 84:this.$=s[a];break;case 3:this.$=(s[a-1].unions=s[a],s[a-1]);break;case 7:this.$=(s[a-1].order=s[a],s[a-1]);break;case 8:this.$=(s[a-1].group=s[a],s[a-1]);break;case 9:this.$=(s[a-2].group=s[a-1],s[a-2].order=s[a],s[a-2]);break;case 10:this.$=(s[a-1].limit=s[a],s[a-1]);break;case 12:this.$=(s[a-1].where=s[a],s[a-1]);break;case 13:this.$=new i.Select(s[a-2],s[a],!1);break;case 14:this.$=new i.Select(s[a-2],s[a],!0);break;case 15:this.$=new i.Select(s[a-3],s[a-1],!1,s[a]);break;case 16:this.$=new i.Select(s[a-3],s[a-1],!0,s[a]);break;case 17:this.$=new i.Table(s[a]);break;case 18:this.$=new i.Table(s[a-1],s[a]);break;case 19:this.$=new i.Table(s[a-2],s[a]);break;case 20:case 49:case 50:case 51:case 52:case 57:this.$=s[a-1];break;case 21:case 77:this.$=new i.SubSelect(s[a-1]);break;case 22:this.$=new i.SubSelect(s[a-2],s[a]);break;case 23:this.$=new i.Table(s[a-5],null,s[a-4],s[a-3],s[a-1]);break;case 24:case 28:case 43:case 75:case 101:case 103:this.$=[s[a]];break;case 25:case 29:case 74:this.$=s[a-1].concat(s[a]);break;case 26:this.$=new i.Union(s[a]);break;case 27:this.$=new i.Union(s[a],!0);break;case 30:this.$=new i.Join(s[a-2],s[a]);break;case 31:this.$=new i.Join(s[a-2],s[a],"LEFT");break;case 32:this.$=new i.Join(s[a-2],s[a],"RIGHT");break;case 33:this.$=new i.Join(s[a-2],s[a],"LEFT","INNER");break;case 34:this.$=new i.Join(s[a-2],s[a],"RIGHT","INNER");break;case 35:this.$=new i.Join(s[a-2],s[a],"LEFT","OUTER");break;case 36:this.$=new i.Join(s[a-2],s[a],"RIGHT","OUTER");break;case 37:this.$=new i.Where(s[a]);break;case 38:this.$=new i.Limit(s[a]);break;case 39:this.$=new i.Limit(s[a],s[a-2]);break;case 40:this.$=new i.Limit(s[a-2],s[a]);break;case 41:this.$=new i.Order(s[a]);break;case 42:this.$=new i.Order(s[a-1],s[a]);break;case 44:case 102:case 104:this.$=s[a-2].concat(s[a]);break;case 45:this.$=new i.OrderArgument(s[a],"ASC");break;case 46:this.$=new i.OrderArgument(s[a-1],s[a]);break;case 47:this.$=new i.Offset(s[a]);break;case 48:this.$=new i.Offset(s[a-1],s[a]);break;case 54:this.$=(s[a-1].having=s[a],s[a-1]);break;case 55:this.$=new i.Group(s[a]);break;case 56:this.$=new i.Having(s[a]);break;case 58:case 59:case 60:case 61:case 62:case 64:this.$=new i.Op(s[a-1],s[a-2],s[a]);break;case 63:this.$=new i.Op(s[a-3],s[a-4],s[a-1]);break;case 65:this.$=new i.UnaryOp(s[a-1],s[a]);break;case 67:this.$=new i.WhitepaceList(s[a]);break;case 70:this.$=new i.BetweenOp([s[a-2],s[a]]);break;case 71:this.$=new i.Case(s[a-1]);break;case 72:this.$=new i.Case(s[a-2],s[a-1]);break;case 73:this.$=new i.CaseWhen(s[a-2],s[a]);break;case 76:this.$=new i.CaseElse(s[a]);break;case 85:this.$=[s[a-1],s[a]];break;case 86:this.$=(s[a-1].push(s[a]),s[a-1]);break;case 87:this.$=new i.ListValue(s[a]);break;case 88:this.$=new i.NumberValue(s[a]);break;case 89:this.$=new i.BooleanValue(s[a]);break;case 90:this.$=new i.ParameterValue(s[a]);break;case 91:this.$=new i.StringValue(s[a],"'");break;case 92:this.$=new i.StringValue(s[a],'"');break;case 93:this.$=new i.LiteralValue(s[a]);break;case 94:this.$=new i.LiteralValue(s[a-2],s[a]);break;case 95:this.$=new i.FunctionValue(s[a-3],s[a-1]);break;case 96:this.$=new i.FunctionValue(s[a-2],null,!0);break;case 97:case 98:this.$=new i.FunctionValue(s[a-3],s[a-1],!0);break;case 99:this.$=new i.ArgumentListValue(s[a]);break;case 100:this.$=new i.ArgumentListValue(s[a],!0);break;case 105:this.$=new i.Star;break;case 106:this.$=new i.Field(s[a]);break;case 107:this.$=new i.Field(s[a-2],s[a])}},table:[{3:1,4:2,6:3,8:4,9:5,10:6,14:7,16:t},{1:[3]},{5:[1,9]},e(n,[2,2],{7:10,13:11,30:12,31:i,42:r}),e(s,[2,4]),e(s,[2,5]),e(s,[2,6],{11:15,12:16,60:18,45:o,62:[1,19]}),e(a,[2,11],{15:20,41:[1,21]}),{17:22,20:[1,23],22:33,24:u,29:34,36:26,50:28,72:30,73:h,74:31,75:32,76:c,84:35,85:36,86:37,87:38,88:39,89:l,90:f,91:p,92:k,93:E,94:T,96:d,99:24,100:S},{1:[2,1]},e(n,[2,3],{30:48,31:i}),e(s,[2,10]),e(g,[2,24]),{29:49,89:l},{6:50,8:4,9:5,10:6,14:7,16:t,32:[1,51]},e(s,[2,7]),e(s,[2,8],{11:52,45:o}),{46:[1,53]},e(O,[2,53],{61:54,64:[1,55]}),{46:[1,56]},e(a,[2,12]),{22:33,24:u,29:34,36:57,50:28,72:30,73:h,74:31,75:32,76:c,84:35,85:36,86:37,87:38,88:39,89:l,90:f,91:p,92:k,93:E,94:T,96:d},{18:[1,58],43:m},{17:60,22:33,24:u,29:34,36:26,50:28,72:30,73:h,74:31,75:32,76:c,84:35,85:36,86:37,87:38,88:39,89:l,90:f,91:p,92:k,93:E,94:T,96:d,99:24,100:S},e(N,[2,103]),e(N,[2,105]),e(N,[2,106],{23:[1,61],65:v,66:R,67:F,68:b,70:L}),{4:68,6:3,8:4,9:5,10:6,14:7,16:t,22:33,24:u,29:34,36:67,50:28,72:30,73:h,74:31,75:32,76:c,84:35,85:36,86:37,87:38,88:39,89:l,90:f,91:p,92:k,93:E,94:T,96:d},e(y,[2,69],{22:33,29:34,84:35,85:36,86:37,87:38,88:39,50:70,71:[1,69],89:l,90:f,91:p,92:k,93:E,94:T,96:d}),{24:[1,72],72:71},e(y,[2,66]),e(y,[2,67],{22:33,29:34,84:35,85:36,86:37,87:38,88:39,50:73,89:l,90:f,91:p,92:k,93:E,94:T,96:d}),e(y,[2,68]),e(w,[2,78],{95:I}),e(w,[2,79]),e(w,[2,80]),e(w,[2,81]),e(w,[2,82]),e(w,[2,83]),e(w,[2,84]),{77:75,80:76,81:A},e([5,18,23,26,31,34,37,38,41,42,43,44,45,51,62,64,65,66,67,68,70,71,78,81,82,83,89,90,91,92,93,94,95,96],W,{24:[1,78]}),e([5,18,23,26,31,34,37,38,41,42,43,44,45,51,54,55,62,64,65,66,67,68,70,71,78,81,82,83,89,90,91,92,93,94,96],[2,88]),e(w,[2,91]),e(w,[2,92]),{24:[1,79]},e(w,[2,89]),e(w,[2,90]),e(g,[2,25]),e(s,[2,38],{43:[1,80],44:[1,81]}),e(g,[2,26],{13:11,42:r}),{6:82,8:4,9:5,10:6,14:7,16:t},e(s,[2,9]),{22:33,29:34,47:83,49:84,50:85,84:35,85:36,86:37,87:38,88:39,89:l,90:f,91:p,92:k,93:E,94:T,96:d},e(O,[2,54]),{22:33,24:u,29:34,36:86,50:28,72:30,73:h,74:31,75:32,76:c,84:35,85:36,86:37,87:38,88:39,89:l,90:f,91:p,92:k,93:E,94:T,96:d},{22:33,24:u,29:34,36:88,50:28,63:87,72:30,73:h,74:31,75:32,76:c,84:35,85:36,86:37,87:38,88:39,89:l,90:f,91:p,92:k,93:E,94:T,96:d},e(a,[2,37],{65:v,66:R,67:F,68:b,70:L}),{19:89,22:90,24:$,94:C},{22:33,24:u,29:34,36:26,50:28,72:30,73:h,74:31,75:32,76:c,84:35,85:36,86:37,87:38,88:39,89:l,90:f,91:p,92:k,93:E,94:T,96:d,99:93,100:S},{18:[1,94],43:m},{22:95,94:C},{22:33,24:u,29:34,36:96,50:28,72:30,73:h,74:31,75:32,76:c,84:35,85:36,86:37,87:38,88:39,89:l,90:f,91:p,92:k,93:E,94:T,96:d},{22:33,24:u,29:34,36:97,50:28,72:30,73:h,74:31,75:32,76:c,84:35,85:36,86:37,87:38,88:39,89:l,90:f,91:p,92:k,93:E,94:T,96:d},{22:33,24:u,29:34,36:98,50:28,72:30,73:h,74:31,75:32,76:c,84:35,85:36,86:37,87:38,88:39,89:l,90:f,91:p,92:k,93:E,94:T,96:d},{22:33,24:u,29:34,36:100,50:28,69:99,72:30,73:h,74:31,75:32,76:c,84:35,85:36,86:37,87:38,88:39,89:l,90:f,91:p,92:k,93:E,94:T,96:d},{22:33,24:u,29:34,36:101,50:28,72:30,73:h,74:31,75:32,76:c,84:35,85:36,86:37,87:38,88:39,89:l,90:f,91:p,92:k,93:E,94:T,96:d},{26:[1,102],65:v,66:R,67:F,68:b,70:L},{26:[1,103]},{24:[1,104],72:105},e(z,[2,85]),e(y,[2,65]),{4:68,6:3,8:4,9:5,10:6,14:7,16:t},e(z,[2,86]),{94:[1,106]},{78:[1,107],79:108,80:109,81:A,83:[1,110]},e(U,[2,75]),{22:33,24:u,29:34,36:111,50:28,72:30,73:h,74:31,75:32,76:c,84:35,85:36,86:37,87:38,88:39,89:l,90:f,91:p,92:k,93:E,94:T,96:d},{20:_,22:33,24:u,26:[1,112],29:34,36:88,50:28,63:115,72:30,73:h,74:31,75:32,76:c,84:35,85:36,86:37,87:38,88:39,89:l,90:f,91:p,92:k,93:E,94:T,96:d,97:113,98:[1,114]},{20:_,22:33,24:u,29:34,36:88,50:28,63:115,72:30,73:h,74:31,75:32,76:c,84:35,85:36,86:37,87:38,88:39,89:l,90:f,91:p,92:k,93:E,94:T,96:d,97:117},{29:118,89:l},{29:119,89:l},e(g,[2,27],{13:11,42:r}),e(s,[2,41],{48:120,43:[1,121],44:[1,122]}),e(x,[2,43]),e(x,[2,45],{51:[1,123]}),e(O,[2,56],{65:v,66:R,67:F,68:b,70:L}),e([5,26,31,42,45,64],[2,55],{43:P}),e(H,[2,101],{65:v,66:R,67:F,68:b,70:L}),e(V,[2,13],{21:125,33:126,34:D,37:B,38:M}),e(G,[2,17],{22:130,23:[1,131],27:[1,132],94:C,95:I}),{4:134,6:3,8:4,9:5,10:6,14:7,16:t,22:33,24:u,25:133,29:34,36:88,50:28,63:135,72:30,73:h,74:31,75:32,76:c,84:35,85:36,86:37,87:38,88:39,89:l,90:f,91:p,92:k,93:E,94:T,96:d},e([5,18,23,26,27,31,34,35,37,38,41,42,43,45,62,94,95],W),e(N,[2,104]),{19:136,22:90,24:$,94:C},e(N,[2,107],{95:I}),e([5,18,23,26,31,34,37,38,41,42,43,45,62,64,65,67,70,78,81,82,83],[2,58],{66:R,68:b}),e([5,18,23,26,31,34,37,38,41,42,43,45,62,64,65,66,67,70,78,81,82,83],[2,59],{68:b}),e([5,18,23,26,31,34,37,38,41,42,43,45,62,64,67,70,78,81,82,83],[2,60],{65:v,66:R,68:b}),e(y,[2,61]),{65:v,66:R,67:F,68:b,70:[1,137]},e(j,[2,62],{65:v,66:R,67:F,68:b}),e(y,[2,57]),e(y,[2,77]),{4:68,6:3,8:4,9:5,10:6,14:7,16:t,22:33,24:u,25:138,29:34,36:88,50:28,63:135,72:30,73:h,74:31,75:32,76:c,84:35,85:36,86:37,87:38,88:39,89:l,90:f,91:p,92:k,93:E,94:T,96:d},e(y,[2,64]),e([5,18,23,26,27,31,34,35,37,38,41,42,43,44,45,51,62,64,65,66,67,68,70,71,78,81,82,83,89,90,91,92,93,94,95,96],[2,94]),e(y,[2,71]),{78:[1,139]},e(U,[2,74]),{22:33,24:u,29:34,36:140,50:28,72:30,73:h,74:31,75:32,76:c,84:35,85:36,86:37,87:38,88:39,89:l,90:f,91:p,92:k,93:E,94:T,96:d},{65:v,66:R,67:F,68:b,70:L,82:[1,141]},e(w,[2,96]),{26:[1,142]},{26:[1,143]},{26:[2,99],43:P},{22:33,24:u,29:34,36:88,50:28,63:144,72:30,73:h,74:31,75:32,76:c,84:35,85:36,86:37,87:38,88:39,89:l,90:f,91:p,92:k,93:E,94:T,96:d},{26:[1,145]},e(s,[2,39]),e(s,[2,40]),e(s,[2,42]),{22:33,29:34,49:146,50:85,84:35,85:36,86:37,87:38,88:39,89:l,90:f,91:p,92:k,93:E,94:T,96:d},{29:148,52:147,89:l},e(x,[2,46]),{22:33,24:u,29:34,36:149,50:28,72:30,73:h,74:31,75:32,76:c,84:35,85:36,86:37,87:38,88:39,89:l,90:f,91:p,92:k,93:E,94:T,96:d},e(V,[2,15],{33:150,34:D,37:B,38:M}),e(J,[2,28]),{19:151,22:90,24:$,94:C},{34:[1,152],39:[1,153],40:[1,154]},{34:[1,155],39:[1,156],40:[1,157]},e(G,[2,18],{95:I}),{22:158,94:C},{28:[1,159]},{26:[1,160]},{26:[1,161]},{26:[2,87],43:P},e(V,[2,14],{33:126,21:162,34:D,37:B,38:M}),{22:33,24:u,29:34,36:163,50:28,72:30,73:h,74:31,75:32,76:c,84:35,85:36,86:37,87:38,88:39,89:l,90:f,91:p,92:k,93:E,94:T,96:d},{26:[1,164]},e(y,[2,72]),{65:v,66:R,67:F,68:b,70:L,78:[2,76]},{22:33,24:u,29:34,36:165,50:28,72:30,73:h,74:31,75:32,76:c,84:35,85:36,86:37,87:38,88:39,89:l,90:f,91:p,92:k,93:E,94:T,96:d},e(w,[2,97]),e(w,[2,98]),{26:[2,100],43:P},e(w,[2,95]),e(x,[2,44]),e(s,[2,47],{53:166,56:[1,167]}),{54:[1,168],55:[1,169]},e(H,[2,102],{65:v,66:R,67:F,68:b,70:L}),e(J,[2,29]),{35:[1,170]},{19:171,22:90,24:$,94:C},{34:[1,172]},{34:[1,173]},{19:174,22:90,24:$,94:C},{34:[1,175]},{34:[1,176]},e(G,[2,19],{95:I}),{24:[1,177]},e(G,[2,20]),e(G,[2,21],{22:178,94:C}),e(V,[2,16],{33:150,34:D,37:B,38:M}),e(j,[2,70],{65:v,66:R,67:F,68:b}),e(y,[2,63]),e(U,[2,73],{65:v,66:R,67:F,68:b,70:L}),e(s,[2,48]),{57:[1,179],59:[1,180]},e(Y,[2,49]),e(Y,[2,50]),{22:33,24:u,29:34,36:181,50:28,72:30,73:h,74:31,75:32,76:c,84:35,85:36,86:37,87:38,88:39,89:l,90:f,91:p,92:k,93:E,94:T,96:d},{35:[1,182]},{19:183,22:90,24:$,94:C},{19:184,22:90,24:$,94:C},{35:[1,185]},{19:186,22:90,24:$,94:C},{19:187,22:90,24:$,94:C},{29:188,89:l},e(G,[2,22],{95:I}),{29:148,52:189,89:l},{29:148,52:190,89:l},e(J,[2,30],{65:v,66:R,67:F,68:b,70:L}),{22:33,24:u,29:34,36:191,50:28,72:30,73:h,74:31,75:32,76:c,84:35,85:36,86:37,87:38,88:39,89:l,90:f,91:p,92:k,93:E,94:T,96:d},{35:[1,192]},{35:[1,193]},{22:33,24:u,29:34,36:194,50:28,72:30,73:h,74:31,75:32,76:c,84:35,85:36,86:37,87:38,88:39,89:l,90:f,91:p,92:k,93:E,94:T,96:d},{35:[1,195]},{35:[1,196]},{26:[1,197]},{58:[1,198]},{58:[1,199]},e(J,[2,31],{65:v,66:R,67:F,68:b,70:L}),{22:33,24:u,29:34,36:200,50:28,72:30,73:h,74:31,75:32,76:c,84:35,85:36,86:37,87:38,88:39,89:l,90:f,91:p,92:k,93:E,94:T,96:d},{22:33,24:u,29:34,36:201,50:28,72:30,73:h,74:31,75:32,76:c,84:35,85:36,86:37,87:38,88:39,89:l,90:f,91:p,92:k,93:E,94:T,96:d},e(J,[2,32],{65:v,66:R,67:F,68:b,70:L}),{22:33,24:u,29:34,36:202,50:28,72:30,73:h,74:31,75:32,76:c,84:35,85:36,86:37,87:38,88:39,89:l,90:f,91:p,92:k,93:E,94:T,96:d},{22:33,24:u,29:34,36:203,50:28,72:30,73:h,74:31,75:32,76:c,84:35,85:36,86:37,87:38,88:39,89:l,90:f,91:p,92:k,93:E,94:T,96:d},e(G,[2,23]),e(s,[2,51]),e(s,[2,52]),e(J,[2,33],{65:v,66:R,67:F,68:b,70:L}),e(J,[2,35],{65:v,66:R,67:F,68:b,70:L}),e(J,[2,34],{65:v,66:R,67:F,68:b,70:L}),e(J,[2,36],{65:v,66:R,67:F,68:b,70:L})],defaultActions:{9:[2,1]},parseError:function(e,t){if(!t.recoverable){var n=new Error(e);throw n.hash=t,n}this.trace(e)},parse:function(e){var t=this,n=[0],i=[null],r=[],s=this.table,o="",a=0,u=0,h=r.slice.call(arguments,1),c=Object.create(this.lexer),l={yy:{}};for(var f in this.yy)Object.prototype.hasOwnProperty.call(this.yy,f)&&(l.yy[f]=this.yy[f]);c.setInput(e,l.yy),l.yy.lexer=c,l.yy.parser=this,void 0===c.yylloc&&(c.yylloc={});var p=c.yylloc;r.push(p);var k=c.options&&c.options.ranges;"function"==typeof l.yy.parseError?this.parseError=l.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var E,T,d,S,g,O,m,N,v,R,F={};;){if(d=n[n.length-1],this.defaultActions[d]?S=this.defaultActions[d]:(null==E&&(R=void 0,"number"!=typeof(R=c.lex()||1)&&(R=t.symbols_[R]||R),E=R),S=s[d]&&s[d][E]),void 0===S||!S.length||!S[0]){var b="";for(O in v=[],s[d])this.terminals_[O]&&O>2&&v.push("'"+this.terminals_[O]+"'");b=c.showPosition?"Parse error on line "+(a+1)+":\n"+c.showPosition()+"\nExpecting "+v.join(", ")+", got '"+(this.terminals_[E]||E)+"'":"Parse error on line "+(a+1)+": Unexpected "+(1==E?"end of input":"'"+(this.terminals_[E]||E)+"'"),this.parseError(b,{text:c.match,token:this.terminals_[E]||E,line:c.yylineno,loc:p,expected:v})}if(S[0]instanceof Array&&S.length>1)throw new Error("Parse Error: multiple actions possible at state: "+d+", token: "+E);switch(S[0]){case 1:n.push(E),i.push(c.yytext),r.push(c.yylloc),n.push(S[1]),E=null,T?(E=T,T=null):(u=c.yyleng,o=c.yytext,a=c.yylineno,p=c.yylloc);break;case 2:if(m=this.productions_[S[1]][1],F.$=i[i.length-m],F._$={first_line:r[r.length-(m||1)].first_line,last_line:r[r.length-1].last_line,first_column:r[r.length-(m||1)].first_column,last_column:r[r.length-1].last_column},k&&(F._$.range=[r[r.length-(m||1)].range[0],r[r.length-1].range[1]]),void 0!==(g=this.performAction.apply(F,[o,u,a,l.yy,S[1],i,r].concat(h))))return g;m&&(n=n.slice(0,-1*m*2),i=i.slice(0,-1*m),r=r.slice(0,-1*m)),n.push(this.productions_[S[1]][0]),i.push(F.$),r.push(F._$),N=s[n[n.length-2]][n[n.length-1]],n.push(N);break;case 3:return!0}}return!0}};function q(){this.yy={}}return q.prototype=X,X.Parser=q,new q}()},v=t(function(e,t){function n(e){return function(){for(var t=e.split("\n"),n=[],i=0,r=t.length;i<r;i++)n.push("  "+t[i]);return n}().join("\n")}t.Select=function(){function e(e,t,n,i,r){void 0===n&&(n=!1),void 0===i&&(i=[]),void 0===r&&(r=[]),this.fields=e,this.source=t,this.distinct=n,this.joins=i,this.unions=r,this.order=null,this.group=null,this.where=null,this.limit=null}return e.prototype.toString=function(){var e=["SELECT "+this.fields.join(", ")];e.push(n("FROM "+this.source));for(var t=0,i=this.joins.length;t<i;t++)e.push(n(this.joins[t].toString()));this.where&&e.push(n(this.where.toString())),this.group&&e.push(n(this.group.toString())),this.order&&e.push(n(this.order.toString())),this.limit&&e.push(n(this.limit.toString()));for(var r=0,s=this.unions.length;r<s;r++)e.push(this.unions[r].toString());return e.join("\n")},e}(),t.SubSelect=function(){function e(e,t){void 0===t&&(t=null),this.select=e,this.name=t}return e.prototype.toString=function(){var e=[];return e.push("("),e.push(n(this.select.toString())),e.push(this.name?") "+this.name.toString():")"),e.join("\n")},e}(),t.Join=function(){function e(e,t,n,i){void 0===t&&(t=null),void 0===n&&(n=null),void 0===i&&(i=null),this.right=e,this.conditions=t,this.side=n,this.mode=i}return e.prototype.toString=function(){var e="";return null!=this.side&&(e+=this.side+" "),null!=this.mode&&(e+=this.mode+" "),e+"JOIN "+this.right+"\n"+n("ON "+this.conditions)},e}(),t.Union=function(){function e(e,t){void 0===t&&(t=!1),this.query=e,this.all=t}return e.prototype.toString=function(){return"UNION"+(this.all?" ALL":"")+"\n"+this.query.toString()},e}(),t.LiteralValue=function(){function e(e,t){void 0===t&&(t=null),this.value=e,this.value2=t,this.value2?(this.nested=!0,this.values=this.value.values,this.values.push(this.value2)):(this.nested=!1,this.values=[this.value])}return e.prototype.toString=function(e){return void 0===e&&(e=!0),e?"`"+this.values.join("`.`")+"`":""+this.values.join(".")},e}(),t.StringValue=function(){function e(e,t){void 0===t&&(t="''"),this.value=e,this.quoteType=t}return e.prototype.toString=function(){var e="'"===this.quoteType?this.value.replace(/(^|[^\\])'/g,"$1''"):this.value;return""+this.quoteType+e+this.quoteType},e}(),t.NumberValue=function(){function e(e){this.value=Number(e)}return e.prototype.toString=function(){return this.value.toString()},e}(),t.ListValue=function(){function e(e){this.value=e}return e.prototype.toString=function(){return"("+this.value.join(", ")+")"},e}(),t.WhitepaceList=function(){function e(e){this.value=e}return e.prototype.toString=function(){return this.value.map(function(e){return e instanceof t.LiteralValue?e.toString(!1):e.toString()}).join(" ")},e}(),t.ParameterValue=function(){function e(e){this.value=e,this.index=parseInt(e.substr(1),10)-1}return e.prototype.toString=function(){return"$"+this.value},e}(),t.ArgumentListValue=function(){function e(e,t){void 0===t&&(t=!1),this.value=e,this.distinct=t}return e.prototype.toString=function(){return this.distinct?"DISTINCT "+this.value.join(", "):""+this.value.join(", ")},e}(),t.BooleanValue=function(){function e(e){this.value=function(){switch(e.toLowerCase()){case"true":return!0;case"false":return!1;default:return null}}()}return e.prototype.toString=function(){return null!=this.value?this.value.toString().toUpperCase():"NULL"},e}(),t.FunctionValue=function(){function e(e,t,n){void 0===t&&(t=null),void 0===n&&(n=!1),this.name=e,this.arguments=t,this.udf=n}return e.prototype.toString=function(){return this.arguments?this.name.toUpperCase()+"("+this.arguments.toString()+")":this.name.toUpperCase()+"()"},e}(),t.Case=function(){function e(e,t){this.whens=e,this.else=t}return e.prototype.toString=function(){var e=this.whens.map(function(e){return e.toString()}).join(" ");return this.else?"CASE "+e+" "+this.else.toString()+" END":"CASE "+e+" END"},e}(),t.CaseWhen=function(){function e(e,t){this.whenCondition=e,this.resCondition=t}return e.prototype.toString=function(){return"WHEN "+this.whenCondition+" THEN "+this.resCondition},e}(),t.CaseElse=function(){function e(e){this.elseCondition=e}return e.prototype.toString=function(){return"ELSE "+this.elseCondition},e}(),t.Order=function(){function e(e,t){this.orderings=e,this.offset=t}return e.prototype.toString=function(){return"ORDER BY "+this.orderings.join(", ")+(this.offset?"\n"+this.offset.toString():"")},e}(),t.OrderArgument=function(){function e(e,t){void 0===t&&(t="ASC"),this.value=e,this.direction=t}return e.prototype.toString=function(){return this.value+" "+this.direction},e}(),t.Offset=function(){function e(e,t){this.row_count=e,this.limit=t}return e.prototype.toString=function(){return"OFFSET "+this.row_count+" ROWS"+(this.limit?"\nFETCH NEXT "+this.limit+" ROWS ONLY":"")},e}(),t.Limit=function(){function e(e,t){this.value=e,this.offset=t}return e.prototype.toString=function(){return"LIMIT "+this.value+(this.offset?"\nOFFSET "+this.offset:"")},e}(),t.Table=function(){function e(e,t,n,i,r){void 0===t&&(t=null),void 0===n&&(n=null),void 0===i&&(i=null),void 0===r&&(r=null),this.name=e,this.alias=t,this.win=n,this.winFn=i,this.winArg=r}return e.prototype.toString=function(){return this.win?this.name+"."+this.win+":"+this.winFn+"("+this.winArg+")":this.alias?this.name+" AS "+this.alias:this.name.toString()},e}(),t.Group=function(){function e(e){this.fields=e,this.having=null}return e.prototype.toString=function(){var e=["GROUP BY "+this.fields.join(", ")];return this.having&&e.push(this.having.toString()),e.join("\n")},e}(),t.Where=function(){function e(e){this.conditions=e}return e.prototype.toString=function(){return"WHERE "+this.conditions},e}(),t.Having=function(){function e(e){this.conditions=e}return e.prototype.toString=function(){return"HAVING "+this.conditions},e}(),t.Op=function(){function e(e,t,n){this.operation=e,this.left=t,this.right=n}return e.prototype.toString=function(){return"("+this.left+" "+this.operation.toUpperCase()+" "+this.right+")"},e}(),t.UnaryOp=function(){function e(e,t){this.operator=e,this.operand=t}return e.prototype.toString=function(){return"("+this.operator.toUpperCase()+" "+this.operand+")"},e}(),t.BetweenOp=function(){function e(e){this.value=e}return e.prototype.toString=function(){return""+this.value.join(" AND ")},e}(),t.Field=function(){function e(e,t){void 0===t&&(t=null),this.field=e,this.name=t}return e.prototype.toString=function(){return this.name?this.field+" AS "+this.name:this.field.toString()},e}(),t.Star=function(){function e(){}return e.prototype.toString=function(){return"*"},e}()}),R=(v.Select,v.SubSelect,v.Join,v.Union,v.LiteralValue,v.StringValue,v.NumberValue,v.ListValue,v.WhitepaceList,v.ParameterValue,v.ArgumentListValue,v.BooleanValue,v.FunctionValue,v.Case,v.CaseWhen,v.CaseElse,v.Order,v.OrderArgument,v.Offset,v.Limit,v.Table,v.Group,v.Where,v.Having,v.Op,v.UnaryOp,v.BetweenOp,v.Field,v.Star,N.parser);R.lexer={lex:function(){var e,t=this.tokens[this.pos++]||[""];return e=t[0],this.yytext=t[1],this.yylineno=t[2],e},setInput:function(e){return this.tokens=e,this.pos=0},upcomingInput:function(){return""}},R.yy=v;var F={parser:R,parse:function(e){return R.parse(e)}},b=t(function(e,t){t.lexer=m,t.parser=F,t.nodes=v,t.parse=function(e){return t.parser.parse(t.lexer.tokenize(e))}}),L=b.lexer,y=b.parser,w=b.nodes,I=b.parse;e.default=b,e.lexer=L,e.nodes=w,e.parse=I,e.parser=y,Object.defineProperty(e,"__esModule",{value:!0})});